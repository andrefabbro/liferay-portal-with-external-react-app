{"version":3,"sources":["components/Search/Search.js","components/Header/Header.js","components/Current/Current.js","components/Forecast/Forecast.js","components/Main/Main.js","App.js","index.js"],"names":["Search","callBack","useState","currentCity","setCurrentCity","labelState","setLabelState","placeholder","setPlaceholder","handleInputClick","handleButtonClick","trim","className","value","onChange","event","target","onClick","onKeyPress","e","key","Header","Current","weatherInfo","location","date","src","current","weather","icon","alt","main","Math","round","temp","humidity","wind_speed","city","town","state","country","toUpperCase","description","Forecast","max","min","Main","contentState","daily","App","setCity","undefined","coordinates","setCoordinates","setLocation","setDate","setWeatherInfo","setContentState","loaderVisibility","setLoaderVisibility","loader","setLoader","catchError","error","response","console","log","data","status","headers","request","message","useEffect","axios","get","params","process","q","then","results","length","components","setTimeout","geometry","state_code","country_code","catch","lat","lon","lng","exclude","appid","units","d","days","count","getDay","dateBuilder","Date","rootElement","document","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.e31e258d.chunk.js","sourcesContent":["import React, { useState } from \"react\";\nimport \"./search.css\";\n\nexport default function Search({ callBack }) {\n  const [currentCity, setCurrentCity] = useState(\"\");\n  const [labelState, setLabelState] = useState(\"Search__label\");\n  const [placeholder, setPlaceholder] = useState(\"Enter the location\");\n\n  function handleInputChange(event) {\n    if (labelState === \"Search__label Search__warning\") {\n      setLabelState(\"Search__label\");\n      setPlaceholder(\"Enter the location\");\n    }\n    setCurrentCity(event.target.value);\n  }\n\n  function handleInputClick() {\n    if (labelState === \"Search__label Search__warning\") {\n      setLabelState(\"Search__label\");\n      setPlaceholder(\"Enter the location\");\n    }\n  }\n\n  function handleButtonClick() {\n    if (currentCity.trim(\" \") === \"\") {\n      setLabelState(\"Search__label Search__warning\");\n      setPlaceholder(\"\");\n    } else {\n      callBack(currentCity);\n      setLabelState(\"Search__label\");\n      setPlaceholder(\"Enter the location\");\n    }\n  }\n\n  function handleKeyPress(e) {\n    if (e.key === \"Enter\") handleButtonClick();\n    else handleInputClick();\n  }\n\n  return (\n    <div className=\"Search\">\n      <label className={labelState}>\n        <input\n          value={currentCity}\n          onChange={handleInputChange}\n          onClick={handleInputClick}\n          onKeyPress={handleKeyPress}\n          className=\"Search__input\"\n          placeholder={placeholder}\n        />\n        {labelState === \"Search__label Search__warning\" && (\n          <p className=\"Search__warning-content\"> Field is empty </p>\n        )}\n      </label>\n      <button onClick={handleButtonClick} className=\"Search__button\">\n        Search\n      </button>\n    </div>\n  );\n}\n","import React from \"react\";\nimport Search from \"../Search/Search\";\nimport \"./header.css\";\n\nexport default function Header({ callBack }) {\n  return (\n    <header className=\"Header\">\n      <h1 className=\"Header__title\"> Weather </h1>\n      <Search callBack={callBack} />\n    </header>\n  );\n}\n","import React from \"react\";\nimport \"./current.css\";\n\nexport default function Current({ weatherInfo, location, date }) {\n  return (\n    <div className=\"Current\">\n      <div className=\"Current__info\">\n        <img\n          className=\"Current__weather-icon\"\n          src={\n            \"https://openweathermap.org/img/wn/\" +\n            weatherInfo.current.weather[0].icon +\n            \".png\"\n          }\n          alt={weatherInfo.current.weather[0].main}\n        />\n        <ul className=\"Current__list\">\n          <li className=\"list__temperature\">\n            {Math.round(weatherInfo.current.temp)}\n            <sup className=\"list__temperature-symbol\">Â°C</sup>\n          </li>\n          <li> Humidity: {weatherInfo.current.humidity}% </li>\n          <li>\n            {\" \"}\n            Wind: {Math.round(weatherInfo.current.wind_speed * 3.6)} km/h{\" \"}\n          </li>\n        </ul>\n      </div>\n      <div className=\"Current__other-info\">\n        <h2 className=\"other-info__city\">\n          {location.city || location.town},{\" \"}\n          {location.state || location.country.toUpperCase()}\n        </h2>\n        <h3 className=\"other-info__clouds\">{date}</h3>\n        <h3 className=\"other-info__clouds\">\n          {weatherInfo.current.weather[0].description}\n        </h3>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport \"./forecast.css\";\n\nexport default function Forecast({ weatherInfo, date }) {\n  return (\n    <div className=\"Forecast\">\n      <h1 className=\"Forecast__title\">{[date[0], date[1], date[2]]}</h1>\n      <img\n        className=\"Forecast__weather-icon\"\n        src={\n          \"https://openweathermap.org/img/wn/\" +\n          weatherInfo.weather[0].icon +\n          \".png\"\n        }\n        alt={weatherInfo.weather[0].main}\n      />\n      <div className=\"Forecast__temperature\">\n        <span className=\"temperature__max\">\n          {Math.round(weatherInfo.temp.max)}\n          <sup className=\"temperature__symbol\">Â°</sup>\n        </span>\n        <span className=\"temperature__min\">\n          {Math.round(weatherInfo.temp.min)}\n          <sup className=\"temperature__symbol\">Â°</sup>\n        </span>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\n\nimport Current from \"../Current/Current\";\nimport Forecast from \"../Forecast/Forecast\";\n\nimport \"./main.css\";\n\nexport default function Main({ weatherInfo, location, date, contentState }) {\n  if (contentState === \"weather\")\n    return (\n      <div className=\"Main\">\n        <Current weatherInfo={weatherInfo} location={location} date={date[0]} />\n        <div className=\"Main__forecast\">\n          <Forecast weatherInfo={weatherInfo.daily[0]} date={date[0]} />\n          <Forecast weatherInfo={weatherInfo.daily[1]} date={date[1]} />\n          <Forecast weatherInfo={weatherInfo.daily[2]} date={date[2]} />\n          <Forecast weatherInfo={weatherInfo.daily[3]} date={date[3]} />\n          <Forecast weatherInfo={weatherInfo.daily[4]} date={date[4]} />\n        </div>\n      </div>\n    );\n  else if (contentState === \"warning\")\n    return (\n      <div className=\"Main Main--warning\">\n        <h2 className=\"Main__no-location\">No location found</h2>\n        <p className=\"Main__no-location-paragraph\">\n          Try informing city/town and state/country\n        </p>\n        <p className=\"Main__no-location-paragraph\">Ex: SÃ£o Carlos, SÃ£o Paulo</p>\n        <p className=\"Main__no-location-paragraph\">Ex: Tokyo, Japan </p>\n      </div>\n    );\n  else if (contentState === \"blank\") return <div className=\"Main\"></div>;\n}\n","import React, { useState, useEffect } from \"react\";\nimport Header from \"./components/Header/Header\";\nimport Main from \"./components/Main/Main\";\n\nimport axios from \"axios\";\n\nimport \"./app.css\";\n\nexport default function App() {\n  const [city, setCity] = useState(\"\");\n  const [coordinates, setCoordinates] = useState(undefined);\n  const [location, setLocation] = useState({});\n  const [date, setDate] = useState([]);\n  const [weatherInfo, setWeatherInfo] = useState({});\n  const [contentState, setContentState] = useState(\"blank\");\n  const [loaderVisibility, setLoaderVisibility] = useState(false);\n  const [loader, setLoader] = useState(undefined);\n\n  function searchCity(target) {\n    setCity(target);\n    setDate(dateBuilder(new Date()));\n    setLoaderVisibility(true);\n  }\n\n  useEffect(() => {\n    if (city !== \"\" && loaderVisibility) {\n      setContentState(\"blank\");\n      setLoader(<div className=\"loading\"></div>);\n      axios\n        .get(\"https://api.opencagedata.com/geocode/v1/json? \", {\n          params: {\n            key: process.env.REACT_APP_OPEN_CAGE_API_KEY,\n            q: city\n          }\n        })\n        .then((response) => {\n          if (\n            response.data.results.length === 0 ||\n            (response.data.results[0].components.city === undefined &&\n              response.data.results[0].components.town === undefined)\n          ) {\n            setLoader(null);\n            setCoordinates(undefined);\n            setContentState(\"warning\");\n            setTimeout(() => {\n              if (contentState === \"warning\" || contentState === \"blank\")\n                setContentState(\"blank\");\n            }, 5000);\n          } else {\n            setCoordinates(response.data.results[0].geometry);\n            setLocation({\n              city: response.data.results[0].components.city,\n              town: response.data.results[0].components.town,\n              state: response.data.results[0].components.state_code,\n              country: response.data.results[0].components.country_code\n            });\n          }\n        })\n        .catch((error) => {\n          catchError(error);\n          setLoader(null);\n          setCoordinates(undefined);\n          setContentState(\"warning\");\n          setTimeout(() => {\n            if (contentState === \"warning\" || contentState === \"blank\")\n              setContentState(\"blank\");\n          }, 5000);\n        });\n      setLoaderVisibility(false);\n    }\n  }, [city, loaderVisibility, loader, contentState]);\n\n  useEffect(() => {\n    if (coordinates !== undefined) {\n      axios\n        .get(\"https://api.openweathermap.org/data/2.5/onecall?\", {\n          params: {\n            lat: coordinates.lat,\n            lon: coordinates.lng,\n            exclude: \"minutely,hourly,alerts\",\n            appid: process.env.REACT_APP_OPEN_WEATHER_API_KEY,\n            units: \"metric\"\n          }\n        })\n        .then((response) => {\n          setLoader(null);\n          setWeatherInfo(response.data);\n          setContentState(\"weather\");\n        })\n        .catch((error) => catchError(error));\n    }\n  }, [coordinates]);\n\n  function catchError(error) {\n    if (error.response) {\n      // Request made and server responded\n      console.log(error.response.data);\n      console.log(error.response.status);\n      console.log(error.response.headers);\n    } else if (error.request) {\n      // The request was made but no response was received\n      console.log(error.request);\n    } else {\n      // Something happened in setting up the request that triggered an Error\n      console.log(\"Error\", error.message);\n    }\n  }\n\n  function dateBuilder(d) {\n    const days = [\n      \"Sunday\",\n      \"Monday\",\n      \"Tuesday\",\n      \"Wednesday\",\n      \"Thursday\",\n      \"Friday\",\n      \"Saturday\"\n    ];\n\n    const date = [];\n    \n    for (let count = 0; count < 5; count++) {\n      if (d.getDay() + count < 7)\n        date[count] = d.getDay() + count;\n      else if (d.getDay() + count === 7)\n        date[count] = 0;\n      else if (d.getDay() + count === 8)\n        date[count] = 1;\n      else if (d.getDay() + count === 9)\n        date[count] = 2;\n      else if (d.getDay() + count === 10)\n        date[count] = 3;\n    }\n\n    return [\n      days[date[0]],\n      days[date[1]],\n      days[date[2]],\n      days[date[3]],\n      days[date[4]]\n    ];\n  }\n\n  return (\n    <div className=\"App\">\n      <div className=\"App__container\">\n        <Header callBack={searchCity} />\n        {loader}\n        <Main\n          weatherInfo={weatherInfo}\n          location={location}\n          date={date}\n          contentState={contentState}\n        />\n      </div>\n    </div>\n  );\n}\n","import { StrictMode } from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nimport \"./index.css\";\n\nconst rootElement = document.getElementById(\"react-weather-app\");\nReactDOM.render(\n  <StrictMode>\n    <App />\n  </StrictMode>,\n  rootElement\n);\n"],"sourceRoot":""}